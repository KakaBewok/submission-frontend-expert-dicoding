{"version":3,"file":"app~309f7e27-aa2e66fe8a4742c32fdb.js","mappings":"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","sources":["webpack://restaurant-apps/./src/scripts/views/pages/detail.js","webpack://restaurant-apps/./src/scripts/views/pages/favorite.js","webpack://restaurant-apps/./src/scripts/views/pages/home.js","webpack://restaurant-apps/./src/scripts/views/templates/template-creator.js"],"sourcesContent":["/* eslint-disable no-inner-declarations */\r\n/* eslint-disable import/order */\r\n/* eslint-disable comma-dangle */\r\n/* eslint-disable quotes */\r\n/* eslint-disable no-alert */\r\n/* eslint-disable import/named */\r\n/* eslint-disable operator-linebreak */\r\nimport UrlParser from '../../routes/url-parser';\r\nimport RestaurantSource from '../../data/restaurant-source';\r\nimport {\r\n  createRestaurantDetailTemplate,\r\n  createRestaurantDetailReviewsTemplate,\r\n} from '../templates/template-creator';\r\nimport LikeButtonInitiator from '../../utils/like-button-initiator';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst Detail = {\r\n  async render() {\r\n    return `\r\n       <div id=\"detail-restaurant\" class=\"detail-restaurant\"></div>\r\n       <div class=\"detail-restaurant large\">\r\n          <div class=\"detail-info\" tabindex=\"0\">\r\n            <h3 tabindex=\"0\">Reviews</h3>\r\n            <div id=\"detail-review\">\r\n            </div>\r\n          </div>\r\n       </div>\r\n       <div id=\"likeButtonContainer\"></div>\r\n      `;\r\n  },\r\n\r\n  async afterRender() {\r\n    // show detail\r\n    const url = UrlParser.parseActiveUrlWithoutCombiner();\r\n    const detailRestaurant = await RestaurantSource.detailRestaurant(url.id);\r\n    const detailRestaurantContainer =\r\n      document.querySelector('#detail-restaurant');\r\n    const reviewContainer = document.querySelector('#detail-review');\r\n\r\n    detailRestaurantContainer.innerHTML =\r\n      createRestaurantDetailTemplate(detailRestaurant);\r\n\r\n    reviewContainer.innerHTML =\r\n      createRestaurantDetailReviewsTemplate(detailRestaurant);\r\n\r\n    // fetch input review\r\n    const form = document.querySelector('#form-input');\r\n    form.addEventListener('submit', async (event) => {\r\n      event.preventDefault();\r\n\r\n      const content = new FormData(form);\r\n      const result = Object.fromEntries(content);\r\n      result.id = url.id;\r\n\r\n      try {\r\n        const response = await RestaurantSource.addReview(result);\r\n        Swal.fire({\r\n          icon: 'success',\r\n          title: 'Success!',\r\n        });\r\n        form.reset();\r\n        reviewContainer.innerHTML =\r\n          createRestaurantDetailReviewsTemplate(response);\r\n\r\n        // setTimeout(() => {\r\n        //   location.reload(true);\r\n        // }, 1500);\r\n\r\n        console.log(response);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    });\r\n    // fetch input review end\r\n\r\n    LikeButtonInitiator.init({\r\n      likeButtonContainer: document.querySelector('#likeButtonContainer'),\r\n      resto: {\r\n        id: detailRestaurant.id,\r\n        name: detailRestaurant.name,\r\n        pictureId: detailRestaurant.pictureId,\r\n        city: detailRestaurant.city,\r\n        rating: detailRestaurant.rating,\r\n      },\r\n    });\r\n  },\r\n};\r\n\r\nexport default Detail;\r\n","/* eslint-disable operator-linebreak */\r\nimport FavoriteResto from '../../data/favorite-resto';\r\nimport { createRestaurantItemTemplate } from '../templates/template-creator';\r\n\r\nconst Favorite = {\r\n  async render() {\r\n    return `\r\n          <h2 class=\"favorite_heading\" tabindex=\"0\">Your Favorite Resto</h2>\r\n          <div class=\"cards-wrapper\" id=\"cards-wrapper\" tabindex=\"0\"></div>\r\n      `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const restaurants = await FavoriteResto.getAllResto();\r\n    const restaurantsContainer = document.querySelector('#cards-wrapper');\r\n\r\n    if (restaurants.length < 1) {\r\n      restaurantsContainer.innerText = 'Tidak ada resto yang disukai.';\r\n    }\r\n\r\n    restaurants.forEach((restaurant) => {\r\n      restaurantsContainer.innerHTML +=\r\n        createRestaurantItemTemplate(restaurant);\r\n    });\r\n  },\r\n};\r\n\r\nexport default Favorite;\r\n","/* eslint-disable import/named */\r\n/* eslint-disable operator-linebreak */\r\nimport RestaurantSource from '../../data/restaurant-source';\r\nimport { createRestaurantItemTemplate } from '../templates/template-creator';\r\n\r\nconst Home = {\r\n  async render() {\r\n    return `\r\n        <div class=\"cards-wrapper\"></div>\r\n      `;\r\n  },\r\n\r\n  async afterRender() {\r\n    const restaurants = await RestaurantSource.home();\r\n\r\n    const restaurantsContainer = document.querySelector('.cards-wrapper');\r\n    restaurants.forEach((restaurant) => {\r\n      restaurantsContainer.innerHTML +=\r\n        createRestaurantItemTemplate(restaurant);\r\n    });\r\n  },\r\n};\r\n\r\nexport default Home;\r\n","/* eslint-disable indent */\r\n/* eslint-disable no-use-before-define */\r\n/* eslint-disable comma-dangle */\r\n/* eslint-disable arrow-body-style */\r\nimport CONFIG from '../../globals/config';\r\n\r\nconst createRestaurantDetailTemplate = (restaurant) => `\r\n     \r\n            <h2 class=\"detail-title\" tabindex=\"0\">${restaurant.name}</h2>\r\n            <img class=\"lazyload detail-poster\" data-src=\"${\r\n              CONFIG.BASE_IMAGE_URL_SMALL\r\n            }/${restaurant.pictureId}\"         \r\n              alt=\"${restaurant.name}\" tabindex=\"0\" />\r\n          \r\n            <div class=\"detail-overview\" tabindex=\"0\">\r\n                <h3 tabindex=\"0\">Description</h3>\r\n                <p tabindex=\"0\">${restaurant.description}</p>\r\n            </div>\r\n\r\n            <div class=\"detail-info\" tabindex=\"0\">\r\n                <h3 tabindex=\"0\">Informasi:</h3>\r\n                <h4 tabindex=\"0\">Alamat</h4>\r\n                <p tabindex=\"0\">${restaurant.address}, ${restaurant.city}</p>\r\n                <h4 tabindex=\"0\">Rating</h4>\r\n                <p tabindex=\"0\">${restaurant.rating} ⭐</p>\r\n                <h4 tabindex=\"0\">Menu: </h4>\r\n                <h4 tabindex=\"0\">Makanan</h4>\r\n                <ul>\r\n                    ${createRestaurantDetailFoodsTemplate(restaurant)}\r\n                </ul>\r\n                <h4 tabindex=\"0\">Minuman</h4>\r\n                <ul>\r\n                    ${createRestaurantDetailDrinksTemplate(restaurant)}\r\n                </ul>\r\n            </div>\r\n\r\n            <div class=\"detail-info\" tabindex=\"0\">\r\n              <h3 tabindex=\"0\">Input Review</h4>\r\n              <form id=\"form-input\" tabindex=\"0\">\r\n                <input name=\"name\" type=\"text\" placeholder=\"Name\" required id=\"input-name\" tabindex=\"0\" /><br />\r\n                <textarea\r\n                  tabindex=\"0\"\r\n                  name=\"review\"\r\n                  id=\"input-review\"\r\n                  cols=\"30\"\r\n                  rows=\"10\"\r\n                  id=\"form-review\"\r\n                  placeholder=\"Review\"\r\n                  required\r\n                ></textarea\r\n                ><br />\r\n                <button type=\"submit\" id=\"button-review\" tabindex=\"0\"> \r\n                  Button\r\n                </button><br /><br />\r\n              </form>\r\n            </div>\r\n            \r\n           \r\n        \r\n`;\r\n\r\nconst createRestaurantDetailFoodsTemplate = (restaurant) => {\r\n  const foods = restaurant.menus.foods\r\n    .map(\r\n      (food, index) => `\r\n        <li tabindex=\"0\">${index + 1}. ${food.name}</li>\r\n    `\r\n    )\r\n    .join('\\n');\r\n  return foods;\r\n};\r\n\r\nconst createRestaurantDetailDrinksTemplate = (restaurant) => {\r\n  const drinks = restaurant.menus.drinks\r\n    .map(\r\n      (drink, index) => `\r\n        <li tabindex=\"0\">${index + 1}. ${drink.name}</li>\r\n    `\r\n    )\r\n    .join('\\n');\r\n  return drinks;\r\n};\r\n\r\nconst createRestaurantDetailReviewsTemplate = (restaurant) => {\r\n  const reviews = restaurant.customerReviews\r\n    .map(\r\n      (review) => `\r\n          \r\n            <p class=\"name\" tabindex=\"0\">${review.name}</p>\r\n            <p class=\"review\" tabindex=\"0\">\"${review.review}\"</p>\r\n            <p class=\"date\" tabindex=\"0\">${review.date}</p>\r\n            <br/>\r\n            <hr/>\r\n            <br/>\r\n      \r\n        `\r\n    )\r\n    .join('\\n');\r\n  return reviews;\r\n};\r\n\r\nconst createRestaurantItemTemplate = (restaurant) => `\r\n        <div class=\"card\">\r\n            <a href=\"/#/detail/${restaurant.id}\">\r\n            <img class=\"lazyload\"\r\n                tabindex=\"0\"\r\n                data-src=\"${CONFIG.BASE_IMAGE_URL_MEDIUM}/${restaurant.pictureId}\"\r\n                alt=\"${restaurant.name}\"\r\n            />\r\n            </a>\r\n            <div class=\"card-body\">\r\n                <div class=\"card-city-wrapper\">\r\n                    <div tabindex=\"0\" class=\"card-city\">${restaurant.city}</div>\r\n                </div>\r\n                <div tabindex=\"0\" class=\"card-rating\">${restaurant.rating} ⭐</div>\r\n                <div tabindex=\"0\" class=\"card-name\">\r\n                    <a href=\"/#/detail/${restaurant.id}\" class=\"resto-name\">\r\n                        ${restaurant.name}\r\n                    <a href=\"/#/detail/${restaurant.id}\">\r\n                </div>\r\n               \r\n            </div>\r\n        </div>\r\n`;\r\n\r\nconst createLikeRestoButtonTemplate = () => `\r\n            <button aria-label=\"like this resto\" id=\"likeButton\" class=\"like\">\r\n                <i class=\"fa fa-heart-o\" aria-hidden=\"true\" tabindex=\"0\"></i>\r\n            </button>\r\n`;\r\n\r\nconst createUnlikeRestoButtonTemplate = () => `\r\n            <button aria-label=\"unlike this resto\" id=\"likeButton\" class=\"like\">\r\n                <i class=\"fa fa-heart\" aria-hidden=\"true\" tabindex=\"0\"></i>\r\n            </button>\r\n`;\r\n\r\nexport {\r\n  createRestaurantDetailTemplate,\r\n  createRestaurantItemTemplate,\r\n  createLikeRestoButtonTemplate,\r\n  createUnlikeRestoButtonTemplate,\r\n  createRestaurantDetailFoodsTemplate,\r\n  createRestaurantDetailDrinksTemplate,\r\n  createRestaurantDetailReviewsTemplate,\r\n};\r\n"],"names":["render","afterRender","url","UrlParser","RestaurantSource","id","detailRestaurant","detailRestaurantContainer","document","querySelector","reviewContainer","innerHTML","createRestaurantDetailTemplate","createRestaurantDetailReviewsTemplate","form","addEventListener","event","preventDefault","content","FormData","result","Object","fromEntries","response","Swal","icon","title","reset","console","log","LikeButtonInitiator","likeButtonContainer","resto","name","pictureId","city","rating","i","FavoriteResto","restaurants","restaurantsContainer","length","innerText","forEach","restaurant","createRestaurantItemTemplate","CONFIG","description","address","createRestaurantDetailFoodsTemplate","createRestaurantDetailDrinksTemplate","menus","foods","map","food","index","join","drinks","drink","customerReviews","review","date","createLikeRestoButtonTemplate","createUnlikeRestoButtonTemplate"],"sourceRoot":""}